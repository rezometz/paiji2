{% extends "home/layout_three_columns.html" %}

{% load bootstrap3 %}
{% load i18n %}

{% block title %}
    {% if form.instance and form.instance.pk %}
        {% trans 'Edit a carpool' %}
    {% else %}
        {% trans 'Offer/search a carpool' %}
    {% endif %}
{% endblock %}

{% block content %}
    <div class="well">
        {% if form.instance and form.instance.pk %}
            <h3>{% trans 'Edit a carpool' %}</h3>
        {% else %}
            <h3>{% trans 'Offer/search a carpool' %}</h3>
        {% endif %}

        <form action="{{ request.get_full_path }}" method="post" role="form">
            {% csrf_token %}
            <div class="form-group">
                <label for="annonceur">{% trans 'Announcer' %}</label>
                <p>{{ request.user.first_name }} ({{ request.user.email }})</p>
            </div>

            <div class="form-group">
                <label for="annonce_type">{% trans 'Advert type' %}</label>
                {% bootstrap_field form.annonce_type show_label=False %}

                <label for="good_until">{% trans 'Departure time' %}</label>
                {% bootstrap_field form.good_until show_label=False %}

                <label for="annonceur">{% trans 'Notes' %}</label>
                <p class="help-block">{% trans 'Ex: Metz-Paris-Compiègne, on Friday around 5pm, 3 places 15 €, back on Sunday at 6pm' %}</p>
                {% bootstrap_field form.notes show_label=False %}
            </div>

            <input type="hidden" value="{{ request.META.HTTP_REFERER }}" name="next" />
            <br />
            {% buttons %}
                <button type="submit" class="btn btn-primary btn-block text-center">
                    {% if form.instance and form.instance.pk %}
                        {% trans 'Update' %}
                    {% else %}
                        {% trans 'Publish' %}
                    {% endif %}
                </button>
            {% endbuttons %}
            <div class="clearfix"></div>
        </form>
    </div>
{% endblock %}
